import { Storage, StoreItems } from 'botbuilder';
import { Collection, MongoClient } from 'mongodb';
import { MongoDocumentStoreItem } from './MongoDocumentStoreItem';
export declare class MongoDbStorage implements Storage {
    static readonly DEFAULT_COLLECTION_NAME: string;
    static readonly DEFAULT_DB_NAME: string;
    protected readonly targetCollection: Collection<MongoDocumentStoreItem>;
    constructor(collection: Collection<MongoDocumentStoreItem>);
    read(stateKeys: string[]): Promise<StoreItems>;
    write(changes: StoreItems): Promise<void>;
    delete(keys: string[]): Promise<void>;
    static packStoreItems(items: MongoDocumentStoreItem[]): StoreItems;
    static createQuery(stateKeys: string[]): {
        _id: {
            $in: string[];
        };
    };
    static createBulkOperations(changes: StoreItems): any[];
    static shouldSlam(etag: any): boolean;
    static createFilter(key: string, etag: any): {
        _id: string;
        'state.eTag'?: undefined;
    } | {
        _id: string;
        'state.eTag': any;
    };
    static getCollection(client: MongoClient, dbName?: string, collectionName?: string): Collection<MongoDocumentStoreItem>;
}
